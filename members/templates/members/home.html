{% extends 'members/base.html' %}

{% block title %}Home{% endblock %}

{% block script %}home.js{% endblock %}

{% block content %}
    <div id="home">
        <div class="info">
            <div class="title">
                Meetings -
                {% if requirements.general_meeting and requirements.ecomm_meeting %}
                    Completed
                {% else %}
                    Not completed
                {% endif %}
            </div>
            <hr/>
            <div class="content">
                {% if meetings.count == 0 %}
                    No meetings on record.
                  {% else %}
                    {% for meeting in meetings %}
                        {{ meeting.get_type_display }} meeting on {{ meeting.date }}.
                        <hr/>
                   {% endfor %}
                {% endif %}
            </div>
        </div>
        <div class="info">
            <div class="title">
                Work Hours -
                {% if requirements.workhours >= 7 %}
                    Completed for hosting a show
                {% elif requirements.workhours >= 2 %}
                    Completed for membership
                {% else %}
                    Not completed
                {% endif %}
            </div>
            <hr/>
            <div class="content">
                {% if workhours.count == 0 %}
                    No work hours on record.
                {% else %}
                    {% for workhour in workhours %}
                        {{ workhour.hours }} hours completed on {{ workhour.date }}.
                        <div class="description">
                            Description: {{ workhour.description }}
                        </div>
                        <div class="status">
                            Status:
                            {% if workhour.approved %}
                                Approved
                            {% else %}
                                Pending approval
                            {% endif %}
                        </div>
                        <hr/>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
        <div class="info">
            <div class="title">
                Classes -
                {% if requirements.tech_class and requirements.policy_class and requirements.logs_class %}
                    Completed
                {% else %}
                    Not completed
                {% endif %}
            </div>
            <hr/>
            <div class="content">
                {% if classes.count == 0 %}
                    No classes on record.
                {% else %}
                    {% for class in classes %}
                        {{ class.get_type_display }} class on {{ class.date }}.
                    {% endfor %}
                     <hr/>
                {% endif %}
            </div>
        </div>
        <div class="info">
            <div class="title">
                Exams -
                {% if requirements.tech_exam and requirements.policy_exam and requirements.logs_exam %}
                    Completed
                {% else %}
                    Not completed
                {% endif %}
            </div>
            <hr/>
            <div class="content">
                {% if exams.count == 0 %}
                    No exams on record.
                {% else %}
                    {% for exam in exams %}
                        {% if exam.passed %}
                            Passed
                        {% else %}
                            Failed
                        {% endif %}
                        a {{ exam.get_type_display }} exam on {{ exam.date }}.
                        <hr/>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
        <div class="info">
            <div class="title">
                Shadows -
                {% if requirements.shadows >= 2 %}
                    Completed
                {% else %}
                    Not completed
                {% endif %}
            </div>
            <hr/>
            <div class="content">
                {% if shadows.count == 0 %}
                    No shadows on record.
                {% else %}
                    {% for shadow in shadows %}
                        {{ shadow.show.name }} on {{ shadow.date }}.
                        <div class="status">
                            Status:
                            {% if shadow.approved %}
                                Approved
                            {% else %}
                                Pending approval
                            {% endif %}
                        </div>
                        <hr/>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
        <div class="info">
            <div class="title">
                Shows
            </div>
            <hr/>
            <div class="content">
                {% if shows.count == 0 %}
                    No shows on record.
                {% else %}
                    {% for show in shows %}
                        {{ show.name }} with {{ show.host }} from {{ show.get_start_time_display }} on {{ show.get_start_day_display }} to {{ show.get_end_time_display }} on {{ show.get_end_day_display }}.
                        <div class="genre">
                            Genre: {{ show.get_genre_display }}
                        </div>
                        <div class="description">
                            Description: {{ show.description }}
                        </div>
                        <div class="status">
                            Status:
                            {% if show.approved %}
                                Approved
                                {% if show.scheduled %}
                                    and scheduled
                                {% else %}
                                    but not scheduled
                                {% endif %}
                            {% else %}
                                Pending approval
                            {% endif %}
                        </div>
                    <hr/>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
